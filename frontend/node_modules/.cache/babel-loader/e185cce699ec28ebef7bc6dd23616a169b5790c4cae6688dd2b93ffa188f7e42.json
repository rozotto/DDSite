{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dmitry\\\\PycharmProjects\\\\DDSite\\\\frontend\\\\src\\\\components\\\\CreateCourse.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport './CreateCourse.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseCreator = () => {\n  _s();\n  var _lessons$filter;\n  const [courses, setCourses] = useState([]);\n  const [lessons, setLessons] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [newCourse, setNewCourse] = useState({\n    title: '',\n    description: ''\n  });\n  const [loading, setLoading] = useState({\n    courses: true,\n    lessons: true,\n    operations: false\n  });\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        var _coursesRes$data, _lessonsRes$data;\n        setLoading(prev => ({\n          ...prev,\n          courses: true,\n          lessons: true\n        }));\n        setError('');\n        const [coursesRes, lessonsRes] = await Promise.all([axios.get('http://127.0.0.1:8000/accounts/api/courses/'), axios.get('http://127.0.0.1:8000/accounts/api/lessons/')]);\n\n        // Обработка ответа для курсов\n        const coursesData = Array.isArray(coursesRes.data) ? coursesRes.data : ((_coursesRes$data = coursesRes.data) === null || _coursesRes$data === void 0 ? void 0 : _coursesRes$data.courses) || [];\n\n        // Обработка ответа для уроков\n        const lessonsData = Array.isArray(lessonsRes.data) ? lessonsRes.data : ((_lessonsRes$data = lessonsRes.data) === null || _lessonsRes$data === void 0 ? void 0 : _lessonsRes$data.lessons) || [];\n        setCourses(coursesData);\n        setLessons(lessonsData);\n      } catch (err) {\n        setError('Ошибка загрузки данных');\n        console.error('Ошибка загрузки:', err);\n      } finally {\n        setLoading(prev => ({\n          ...prev,\n          courses: false,\n          lessons: false\n        }));\n      }\n    };\n    fetchData();\n  }, []);\n  const handleCreateCourse = async () => {\n    try {\n      var _response$data, _response$data$;\n      setLoading(prev => ({\n        ...prev,\n        operations: true\n      }));\n      setError('');\n      const response = await axios.post('http://127.0.0.1:8000/accounts/api/courses/', newCourse, {\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': getCookie('csrftoken')\n        }\n      });\n\n      // Обработка разных форматов ответа\n      const newCourseId = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.course_id) || (Array.isArray(response.data) ? (_response$data$ = response.data[0]) === null || _response$data$ === void 0 ? void 0 : _response$data$.id : null);\n      if (newCourseId) {\n        setCourses(prev => [...prev, {\n          id: newCourseId,\n          ...newCourse\n        }]);\n        setNewCourse({\n          title: '',\n          description: ''\n        });\n      }\n    } catch (err) {\n      setError('Ошибка создания курса');\n      console.error('Ошибка создания:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        operations: false\n      }));\n    }\n  };\n  const addLessonToCourse = async lessonId => {\n    if (!selectedCourse) return;\n    try {\n      var _updatedCourse$data;\n      setLoading(prev => ({\n        ...prev,\n        operations: true\n      }));\n      setError('');\n      await axios.post(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/lessons/`, {\n        lesson_id: lessonId\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': getCookie('csrftoken')\n        }\n      });\n\n      // Обновляем данные курса\n      const updatedCourse = await axios.get(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`);\n\n      // Обработка разных форматов ответа\n      const courseData = Array.isArray(updatedCourse.data) ? updatedCourse.data[0] : (_updatedCourse$data = updatedCourse.data) === null || _updatedCourse$data === void 0 ? void 0 : _updatedCourse$data.course;\n      setSelectedCourse(courseData || null);\n    } catch (err) {\n      setError('Ошибка добавления урока');\n      console.error('Ошибка добавления:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        operations: false\n      }));\n    }\n  };\n  const removeLessonFromCourse = async lessonId => {\n    if (!selectedCourse) return;\n    try {\n      var _updatedCourse$data2;\n      setLoading(prev => ({\n        ...prev,\n        operations: true\n      }));\n      setError('');\n      await axios.delete(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/lessons/${lessonId}/`, {\n        headers: {\n          'X-CSRFToken': getCookie('csrftoken')\n        }\n      });\n\n      // Обновляем данные курса\n      const updatedCourse = await axios.get(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`);\n\n      // Обработка разных форматов ответа\n      const courseData = Array.isArray(updatedCourse.data) ? updatedCourse.data[0] : (_updatedCourse$data2 = updatedCourse.data) === null || _updatedCourse$data2 === void 0 ? void 0 : _updatedCourse$data2.course;\n      setSelectedCourse(courseData || null);\n    } catch (err) {\n      setError('Ошибка удаления урока');\n      console.error('Ошибка удаления:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        operations: false\n      }));\n    }\n  };\n  const onDragEnd = async result => {\n    if (!result.destination || !selectedCourse || !selectedCourse.lessons) return;\n    const reorderedLessons = Array.from(selectedCourse.lessons);\n    const [removed] = reorderedLessons.splice(result.source.index, 1);\n    reorderedLessons.splice(result.destination.index, 0, removed);\n    try {\n      var _updatedCourse$data3;\n      setLoading(prev => ({\n        ...prev,\n        operations: true\n      }));\n      setError('');\n      await axios.put(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`, {\n        lessons_order: reorderedLessons.map((lesson, index) => ({\n          lesson_id: lesson.lesson__id,\n          order: index + 1\n        }))\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': getCookie('csrftoken')\n        }\n      });\n\n      // Обновляем данные курса\n      const updatedCourse = await axios.get(`http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`);\n\n      // Обработка разных форматов ответа\n      const courseData = Array.isArray(updatedCourse.data) ? updatedCourse.data[0] : (_updatedCourse$data3 = updatedCourse.data) === null || _updatedCourse$data3 === void 0 ? void 0 : _updatedCourse$data3.course;\n      setSelectedCourse(courseData || null);\n    } catch (err) {\n      setError('Ошибка изменения порядка уроков');\n      console.error('Ошибка порядка:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        operations: false\n      }));\n    }\n  };\n  function getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n      const cookies = document.cookie.split(';');\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n        if (cookie.substring(0, name.length + 1) === name + '=') {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n    return cookieValue;\n  }\n  if (loading.courses || loading.lessons) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-creator\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"courses-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041C\\u043E\\u0438 \\u043A\\u0443\\u0440\\u0441\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-course-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u0430\",\n            value: newCourse.title,\n            onChange: e => setNewCourse({\n              ...newCourse,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u0430\",\n            value: newCourse.description,\n            onChange: e => setNewCourse({\n              ...newCourse,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateCourse,\n            disabled: loading.operations || !newCourse.title,\n            children: loading.operations ? 'Создание...' : 'Создать курс'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: courses === null || courses === void 0 ? void 0 : courses.map(course => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: (selectedCourse === null || selectedCourse === void 0 ? void 0 : selectedCourse.id) === course.id ? 'active' : '',\n            onClick: () => setSelectedCourse(course),\n            children: course.title\n          }, course.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this), selectedCourse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-editor\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435: \", selectedCourse.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-lessons\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0423\\u0440\\u043E\\u043A\\u0438 \\u0432 \\u043A\\u0443\\u0440\\u0441\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n            onDragEnd: onDragEnd,\n            children: /*#__PURE__*/_jsxDEV(Droppable, {\n              droppableId: \"lessons\",\n              children: provided => {\n                var _selectedCourse$lesso;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  ...provided.droppableProps,\n                  ref: provided.innerRef,\n                  className: \"lessons-container\",\n                  children: [((_selectedCourse$lesso = selectedCourse.lessons) === null || _selectedCourse$lesso === void 0 ? void 0 : _selectedCourse$lesso.length) > 0 ? selectedCourse.lessons.map((lesson, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                    draggableId: String(lesson.lesson__id || lesson.id),\n                    index: index,\n                    children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n                      ref: provided.innerRef,\n                      ...provided.draggableProps,\n                      ...provided.dragHandleProps,\n                      className: \"lesson-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: lesson.lesson__title || lesson.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => removeLessonFromCourse(lesson.lesson__id || lesson.id),\n                        className: \"remove-btn\",\n                        disabled: loading.operations,\n                        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 61\n                    }, this)\n                  }, lesson.lesson__id || lesson.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 53\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0412 \\u043A\\u0443\\u0440\\u0441\\u0435 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0443\\u0440\\u043E\\u043A\\u043E\\u0432\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 49\n                  }, this), provided.placeholder]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 41\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"available-lessons\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: lessons === null || lessons === void 0 ? void 0 : (_lessons$filter = lessons.filter(lesson => {\n              var _selectedCourse$lesso2;\n              return !((_selectedCourse$lesso2 = selectedCourse.lessons) !== null && _selectedCourse$lesso2 !== void 0 && _selectedCourse$lesso2.some(l => (l.lesson__id || l.id) === lesson.id));\n            })) === null || _lessons$filter === void 0 ? void 0 : _lessons$filter.map(lesson => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: lesson.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => addLessonToCourse(lesson.id),\n                className: \"add-btn\",\n                disabled: loading.operations,\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 45\n              }, this)]\n            }, lesson.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 9\n  }, this);\n};\n_s(CourseCreator, \"VMgk6mjdIpDDs8eAfjIGY4OmMyQ=\");\n_c = CourseCreator;\nexport default CourseCreator;\nvar _c;\n$RefreshReg$(_c, \"CourseCreator\");","map":{"version":3,"names":["React","useState","useEffect","axios","DragDropContext","Droppable","Draggable","Navbar","Footer","jsxDEV","_jsxDEV","CourseCreator","_s","_lessons$filter","courses","setCourses","lessons","setLessons","selectedCourse","setSelectedCourse","newCourse","setNewCourse","title","description","loading","setLoading","operations","error","setError","fetchData","_coursesRes$data","_lessonsRes$data","prev","coursesRes","lessonsRes","Promise","all","get","coursesData","Array","isArray","data","lessonsData","err","console","handleCreateCourse","_response$data","_response$data$","response","post","headers","getCookie","newCourseId","course_id","id","addLessonToCourse","lessonId","_updatedCourse$data","lesson_id","updatedCourse","courseData","course","removeLessonFromCourse","_updatedCourse$data2","delete","onDragEnd","result","destination","reorderedLessons","from","removed","splice","source","index","_updatedCourse$data3","put","lessons_order","map","lesson","lesson__id","order","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","droppableId","provided","_selectedCourse$lesso","droppableProps","ref","innerRef","draggableId","String","draggableProps","dragHandleProps","lesson__title","filter","_selectedCourse$lesso2","some","l","_c","$RefreshReg$"],"sources":["C:/Users/Dmitry/PycharmProjects/DDSite/frontend/src/components/CreateCourse.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport Navbar from './Navbar';\r\nimport Footer from './Footer';\r\nimport './CreateCourse.css';\r\n\r\nconst CourseCreator = () => {\r\n    const [courses, setCourses] = useState([]);\r\n    const [lessons, setLessons] = useState([]);\r\n    const [selectedCourse, setSelectedCourse] = useState(null);\r\n    const [newCourse, setNewCourse] = useState({\r\n        title: '',\r\n        description: ''\r\n    });\r\n    const [loading, setLoading] = useState({\r\n        courses: true,\r\n        lessons: true,\r\n        operations: false\r\n    });\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(prev => ({ ...prev, courses: true, lessons: true }));\r\n                setError('');\r\n\r\n                const [coursesRes, lessonsRes] = await Promise.all([\r\n                    axios.get('http://127.0.0.1:8000/accounts/api/courses/'),\r\n                    axios.get('http://127.0.0.1:8000/accounts/api/lessons/')\r\n                ]);\r\n\r\n                // Обработка ответа для курсов\r\n                const coursesData = Array.isArray(coursesRes.data) ? \r\n                    coursesRes.data : \r\n                    (coursesRes.data?.courses || []);\r\n                \r\n                // Обработка ответа для уроков\r\n                const lessonsData = Array.isArray(lessonsRes.data) ? \r\n                    lessonsRes.data : \r\n                    (lessonsRes.data?.lessons || []);\r\n\r\n                setCourses(coursesData);\r\n                setLessons(lessonsData);\r\n            } catch (err) {\r\n                setError('Ошибка загрузки данных');\r\n                console.error('Ошибка загрузки:', err);\r\n            } finally {\r\n                setLoading(prev => ({ ...prev, courses: false, lessons: false }));\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleCreateCourse = async () => {\r\n        try {\r\n            setLoading(prev => ({ ...prev, operations: true }));\r\n            setError('');\r\n\r\n            const response = await axios.post(\r\n                'http://127.0.0.1:8000/accounts/api/courses/',\r\n                newCourse,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'X-CSRFToken': getCookie('csrftoken')\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Обработка разных форматов ответа\r\n            const newCourseId = response.data?.course_id || \r\n                              (Array.isArray(response.data) ? response.data[0]?.id : null);\r\n\r\n            if (newCourseId) {\r\n                setCourses(prev => [...prev, {\r\n                    id: newCourseId,\r\n                    ...newCourse\r\n                }]);\r\n                setNewCourse({ title: '', description: '' });\r\n            }\r\n        } catch (err) {\r\n            setError('Ошибка создания курса');\r\n            console.error('Ошибка создания:', err);\r\n        } finally {\r\n            setLoading(prev => ({ ...prev, operations: false }));\r\n        }\r\n    };\r\n\r\n    const addLessonToCourse = async (lessonId) => {\r\n        if (!selectedCourse) return;\r\n\r\n        try {\r\n            setLoading(prev => ({ ...prev, operations: true }));\r\n            setError('');\r\n\r\n            await axios.post(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/lessons/`,\r\n                { lesson_id: lessonId },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'X-CSRFToken': getCookie('csrftoken')\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Обновляем данные курса\r\n            const updatedCourse = await axios.get(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`\r\n            );\r\n            \r\n            // Обработка разных форматов ответа\r\n            const courseData = Array.isArray(updatedCourse.data) ? \r\n                updatedCourse.data[0] : \r\n                updatedCourse.data?.course;\r\n            \r\n            setSelectedCourse(courseData || null);\r\n        } catch (err) {\r\n            setError('Ошибка добавления урока');\r\n            console.error('Ошибка добавления:', err);\r\n        } finally {\r\n            setLoading(prev => ({ ...prev, operations: false }));\r\n        }\r\n    };\r\n\r\n    const removeLessonFromCourse = async (lessonId) => {\r\n        if (!selectedCourse) return;\r\n\r\n        try {\r\n            setLoading(prev => ({ ...prev, operations: true }));\r\n            setError('');\r\n\r\n            await axios.delete(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/lessons/${lessonId}/`,\r\n                {\r\n                    headers: {\r\n                        'X-CSRFToken': getCookie('csrftoken')\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Обновляем данные курса\r\n            const updatedCourse = await axios.get(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`\r\n            );\r\n            \r\n            // Обработка разных форматов ответа\r\n            const courseData = Array.isArray(updatedCourse.data) ? \r\n                updatedCourse.data[0] : \r\n                updatedCourse.data?.course;\r\n            \r\n            setSelectedCourse(courseData || null);\r\n        } catch (err) {\r\n            setError('Ошибка удаления урока');\r\n            console.error('Ошибка удаления:', err);\r\n        } finally {\r\n            setLoading(prev => ({ ...prev, operations: false }));\r\n        }\r\n    };\r\n\r\n    const onDragEnd = async (result) => {\r\n        if (!result.destination || !selectedCourse || !selectedCourse.lessons) return;\r\n\r\n        const reorderedLessons = Array.from(selectedCourse.lessons);\r\n        const [removed] = reorderedLessons.splice(result.source.index, 1);\r\n        reorderedLessons.splice(result.destination.index, 0, removed);\r\n\r\n        try {\r\n            setLoading(prev => ({ ...prev, operations: true }));\r\n            setError('');\r\n\r\n            await axios.put(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`,\r\n                {\r\n                    lessons_order: reorderedLessons.map((lesson, index) => ({\r\n                        lesson_id: lesson.lesson__id,\r\n                        order: index + 1\r\n                    }))\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'X-CSRFToken': getCookie('csrftoken')\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Обновляем данные курса\r\n            const updatedCourse = await axios.get(\r\n                `http://127.0.0.1:8000/accounts/api/courses/${selectedCourse.id}/`\r\n            );\r\n            \r\n            // Обработка разных форматов ответа\r\n            const courseData = Array.isArray(updatedCourse.data) ? \r\n                updatedCourse.data[0] : \r\n                updatedCourse.data?.course;\r\n            \r\n            setSelectedCourse(courseData || null);\r\n        } catch (err) {\r\n            setError('Ошибка изменения порядка уроков');\r\n            console.error('Ошибка порядка:', err);\r\n        } finally {\r\n            setLoading(prev => ({ ...prev, operations: false }));\r\n        }\r\n    };\r\n\r\n    function getCookie(name) {\r\n        let cookieValue = null;\r\n        if (document.cookie && document.cookie !== '') {\r\n            const cookies = document.cookie.split(';');\r\n            for (let i = 0; i < cookies.length; i++) {\r\n                const cookie = cookies[i].trim();\r\n                if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return cookieValue;\r\n    }\r\n\r\n    if (loading.courses || loading.lessons) {\r\n        return (\r\n            <div className=\"app-container\">\r\n                <Navbar />\r\n                <div className=\"loading\">Загрузка данных...</div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"app-container\">\r\n                <Navbar />\r\n                <div className=\"error\">{error}</div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <Navbar />\r\n            <div className=\"course-creator\">\r\n                <div className=\"courses-list\">\r\n                    <h2>Мои курсы</h2>\r\n                    <div className=\"create-course-form\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Название курса\"\r\n                            value={newCourse.title}\r\n                            onChange={(e) => setNewCourse({ ...newCourse, title: e.target.value })}\r\n                        />\r\n                        <textarea\r\n                            placeholder=\"Описание курса\"\r\n                            value={newCourse.description}\r\n                            onChange={(e) => setNewCourse({ ...newCourse, description: e.target.value })}\r\n                        />\r\n                        <button\r\n                            onClick={handleCreateCourse}\r\n                            disabled={loading.operations || !newCourse.title}\r\n                        >\r\n                            {loading.operations ? 'Создание...' : 'Создать курс'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <ul>\r\n                        {courses?.map(course => (\r\n                            <li\r\n                                key={course.id}\r\n                                className={selectedCourse?.id === course.id ? 'active' : ''}\r\n                                onClick={() => setSelectedCourse(course)}\r\n                            >\r\n                                {course.title}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n\r\n                {selectedCourse && (\r\n                    <div className=\"course-editor\">\r\n                        <h2>Редактирование: {selectedCourse.title}</h2>\r\n\r\n                        <div className=\"course-lessons\">\r\n                            <h3>Уроки в курсе</h3>\r\n                            <DragDropContext onDragEnd={onDragEnd}>\r\n                                <Droppable droppableId=\"lessons\">\r\n                                    {(provided) => (\r\n                                        <div\r\n                                            {...provided.droppableProps}\r\n                                            ref={provided.innerRef}\r\n                                            className=\"lessons-container\"\r\n                                        >\r\n                                            {selectedCourse.lessons?.length > 0 ? (\r\n                                                selectedCourse.lessons.map((lesson, index) => (\r\n                                                    <Draggable\r\n                                                        key={lesson.lesson__id || lesson.id}\r\n                                                        draggableId={String(lesson.lesson__id || lesson.id)}\r\n                                                        index={index}\r\n                                                    >\r\n                                                        {(provided) => (\r\n                                                            <div\r\n                                                                ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                {...provided.dragHandleProps}\r\n                                                                className=\"lesson-item\"\r\n                                                            >\r\n                                                                <span>{lesson.lesson__title || lesson.title}</span>\r\n                                                                <button\r\n                                                                    onClick={() => removeLessonFromCourse(lesson.lesson__id || lesson.id)}\r\n                                                                    className=\"remove-btn\"\r\n                                                                    disabled={loading.operations}\r\n                                                                >\r\n                                                                    Удалить\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))\r\n                                            ) : (\r\n                                                <p>В курсе пока нет уроков</p>\r\n                                            )}\r\n                                            {provided.placeholder}\r\n                                        </div>\r\n                                    )}\r\n                                </Droppable>\r\n                            </DragDropContext>\r\n                        </div>\r\n\r\n                        <div className=\"available-lessons\">\r\n                            <h3>Доступные уроки</h3>\r\n                            <ul>\r\n                                {lessons\r\n                                    ?.filter(lesson =>\r\n                                        !selectedCourse.lessons?.some(l => \r\n                                            (l.lesson__id || l.id) === lesson.id\r\n                                        )\r\n                                    )\r\n                                    ?.map(lesson => (\r\n                                        <li key={lesson.id}>\r\n                                            <span>{lesson.title}</span>\r\n                                            <button\r\n                                                onClick={() => addLessonToCourse(lesson.id)}\r\n                                                className=\"add-btn\"\r\n                                                disabled={loading.operations}\r\n                                            >\r\n                                                Добавить\r\n                                            </button>\r\n                                        </li>\r\n                                    ))\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CourseCreator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}