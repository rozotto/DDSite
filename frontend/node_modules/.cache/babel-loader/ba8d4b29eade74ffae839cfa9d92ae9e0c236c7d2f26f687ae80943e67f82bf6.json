{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dmitry\\\\PycharmProjects\\\\GameWise_actually\\\\frontend\\\\src\\\\components\\\\Lessons.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Lessons = () => {\n  _s();\n  const [form, setForm] = useState({\n    title: '',\n    description: '',\n    files: null // Будет содержать video и material\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === 'files') {\n      setForm(prev => ({\n        ...prev,\n        files: files // Сохраняем все выбранные файлы\n      }));\n    } else {\n      setForm(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    const formData = new FormData();\n    formData.append('title', form.title);\n    formData.append('description', form.description);\n\n    // Добавляем файлы, если они есть\n    if (form.files) {\n      for (let i = 0; i < form.files.length; i++) {\n        const file = form.files[i];\n\n        // Определяем тип файла по расширению\n        if (file.type.includes('video')) {\n          formData.append('video', file);\n        } else if (file.name.endsWith('.pdf')) {\n          formData.append('material', file);\n        }\n      }\n    }\n    try {\n      await axios.post('/accounts/api/add_lesson/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Занятие успешно создано!');\n      setForm({\n        title: '',\n        description: '',\n        files: null\n      });\n    } catch (error) {\n      console.error('Ошибка:', error);\n      alert('Ошибка при создании занятия');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '600px',\n      margin: '0 auto',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u044F*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: form.title,\n          onChange: handleChange,\n          required: true,\n          style: {\n            width: '100%',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: form.description,\n          onChange: handleChange,\n          style: {\n            width: '100%',\n            padding: '8px',\n            minHeight: '100px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0424\\u0430\\u0439\\u043B\\u044B (\\u0432\\u0438\\u0434\\u0435\\u043E \\u0438/\\u0438\\u043B\\u0438 PDF)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"files\",\n          onChange: handleChange,\n          multiple: true,\n          accept: \"video/*,application/pdf\",\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"\\u041C\\u043E\\u0436\\u043D\\u043E \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0432\\u0438\\u0434\\u0435\\u043E \\u0438 PDF \\u043C\\u0430\\u0442\\u0435\\u0440\\u0438\\u0430\\u043B\\u044B \\u043E\\u0434\\u043D\\u043E\\u0439 \\u043A\\u043D\\u043E\\u043F\\u043A\\u043E\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        style: {\n          padding: '10px 20px',\n          background: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: isLoading ? 'Сохранение...' : 'Создать занятие'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Lessons, \"XSVDxn/B3tk83t6LxFpEuWIEuQQ=\");\n_c = Lessons;\nexport default Lessons;\nvar _c;\n$RefreshReg$(_c, \"Lessons\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Lessons","_s","form","setForm","title","description","files","isLoading","setIsLoading","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","formData","FormData","append","i","length","file","type","includes","endsWith","post","headers","alert","error","console","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","onChange","required","width","minHeight","multiple","accept","disabled","background","color","border","borderRadius","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Dmitry/PycharmProjects/GameWise_actually/frontend/src/components/Lessons.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Lessons = () => {\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    files: null  // Будет содержать video и material\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n\r\n    if (name === 'files') {\r\n      setForm(prev => ({\r\n        ...prev,\r\n        files: files  // Сохраняем все выбранные файлы\r\n      }));\r\n    } else {\r\n      setForm(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', form.title);\r\n    formData.append('description', form.description);\r\n\r\n    // Добавляем файлы, если они есть\r\n    if (form.files) {\r\n      for (let i = 0; i < form.files.length; i++) {\r\n        const file = form.files[i];\r\n\r\n        // Определяем тип файла по расширению\r\n        if (file.type.includes('video')) {\r\n          formData.append('video', file);\r\n        } else if (file.name.endsWith('.pdf')) {\r\n          formData.append('material', file);\r\n        }\r\n      }\r\n    }\r\n\r\n    try {\r\n      await axios.post('/accounts/api/add_lesson/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      alert('Занятие успешно создано!');\r\n      setForm({\r\n        title: '',\r\n        description: '',\r\n        files: null\r\n      });\r\n    } catch (error) {\r\n      console.error('Ошибка:', error);\r\n      alert('Ошибка при создании занятия');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '600px', margin: '0 auto', padding: '20px' }}>\r\n      <h2>Создать новое занятие</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div style={{ marginBottom: '15px' }}>\r\n          <label>Название занятия*</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={form.title}\r\n            onChange={handleChange}\r\n            required\r\n            style={{ width: '100%', padding: '8px' }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ marginBottom: '15px' }}>\r\n          <label>Описание</label>\r\n          <textarea\r\n            name=\"description\"\r\n            value={form.description}\r\n            onChange={handleChange}\r\n            style={{ width: '100%', padding: '8px', minHeight: '100px' }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ marginBottom: '15px' }}>\r\n          <label>Файлы (видео и/или PDF)</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"files\"\r\n            onChange={handleChange}\r\n            multiple\r\n            accept=\"video/*,application/pdf\"\r\n            style={{ width: '100%' }}\r\n          />\r\n          <small>Можно загрузить видео и PDF материалы одной кнопкой</small>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          style={{\r\n            padding: '10px 20px',\r\n            background: '#4CAF50',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          {isLoading ? 'Сохранение...' : 'Создать занятие'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lessons;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}